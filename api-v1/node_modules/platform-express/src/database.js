const { Sequelize } = require("sequelize");
const config = require("../config");

let database;
function init({ db, models }) {
  console.log("db", db);
  database = new Sequelize(db, {
    define: {freezeTableName:true},
    logging: config.get().debug === true,
    },
  );

  if (models) models.init(database);
  return database;
}

function get() {
  return database;
}

module.exports = { init, get };
